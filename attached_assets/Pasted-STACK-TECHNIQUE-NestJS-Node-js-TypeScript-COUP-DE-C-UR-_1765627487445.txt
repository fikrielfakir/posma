STACK TECHNIQUE:
NestJS (Node.js + TypeScript) ‚≠ê COUP DE C≈íUR


CONFIGURATION INITIALE:
1. Multi-tenancy avec base de donn√©es s√©par√©e par entreprise
2. Support multilingue (Fran√ßais, Arabe classique, Darija marocaine)
3. Multi-devises (MAD, EUR, USD) avec taux de change temps r√©el
4. Fuseaux horaires Maroc (GMT+1, pas de changement √©t√©/hiver depuis 2018)
5. Conformit√© fiscale marocaine:
   - TVA 20% (taux normal), 14%, 10%, 7%, 0%
   - Num√©rotation fiscale (ICE, IF, TP, CNSS)
   - Format factures selon r√©glementation marocaine
   - Int√©gration API SIMPL (Syst√®me d'Information de la Marocanisation des Paiements Largement)
6. Support paiement mobile: CashPlus, Wafacash, Orange Money, Maroc Telecommerce
7. Int√©gration SMS Gateway Maroc: Macenta, Ultramob, Itexto
8. Jours f√©ri√©s et √©v√©nements marocains (A√Ød, Ramadan, f√™tes nationales)

R√îLES & PERMISSIONS:
- Super Admin: acc√®s total syst√®me
- Directeur G√©n√©ral: vue consolid√©e, rapports ex√©cutifs
- Directeur Commercial: gestion vendeurs, objectifs, commissions
- Manager Point de Vente: gestion locale, stock, √©quipe
- Responsable Stock: achats, inventaires, transferts
- Vendeur: ventes, consultation stock, dashboard personnel
- Caissier: encaissements, ouverture/cl√¥ture caisse
- Magasinier: r√©ception, rangement, inventaire physique
- Comptable: factures, paiements, rapports financiers
- Auditeur: lecture seule, export donn√©es, logs

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üì¶ PARTIE 2: GESTION COMPL√àTE DU STOCK
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

CATALOGUE PRODUITS:
- Hi√©rarchie: Famille > Cat√©gorie > Sous-cat√©gorie > Produit
- Gestion multi-attributs: couleur, taille, go√ªt, volume, parfum
- Codes multiples: code interne, EAN13, SKU, code fournisseur
- Unit√©s: pi√®ce, kg, g, L, mL, carton, palette, m, m¬≤, lot
- Conversion automatique entre unit√©s
- Images multiples avec recadrage automatique (IA)
- G√©n√©ration descriptions SEO multilingues (GPT-4)
- Classification automatique ABC/XYZ avec ML
- Produits compos√©s/kits avec d√©composition automatique
- Tra√ßabilit√©: num√©ro lot, date fabrication, DLC, DLUO
- Certifications: halal, bio, origine, qualit√©
- Fiche technique enrichie: composition, allerg√®nes, conseils utilisation

GESTION ACHATS INTELLIGENTE:
1. Pr√©diction de demande avec LSTM (s√©ries temporelles):
   - Analyse 24+ mois d'historique
   - Prise en compte saisonnalit√©, Ramadan, f√™tes
   - Facteurs externes: m√©t√©o, √©conomie, inflation Maroc
   - Pr√©dictions √† 7, 14, 30, 60, 90 jours
   - Intervalles de confiance 80% et 95%

2. Optimisation automatique des commandes:
   - Algorithme de programmation lin√©aire
   - Contraintes: budget, espace, MOQ, d√©lais
   - Suggestions commandes par IA avec justification
   - Simulation "What-if" pour diff√©rents sc√©narios
   - Prise en compte remises sur volume
   - Calcul automatique du point de commande optimal

3. Workflow commandes fournisseurs:
   - Demande d'achat ‚Üí Approbation ‚Üí Bon de commande
   - Validation multi-niveaux selon montant
   - Envoi auto par email avec PDF
   - Suivi livraison avec tracking
   - R√©ception partielle/totale avec scan code-barres
   - Contr√¥le qualit√© avec photos (Computer Vision)
   - Gestion litiges et retours fournisseurs
   - Mise en stock automatique apr√®s validation

MOUVEMENTS DE STOCK:
- Entr√©es: achats, retours clients, ajustements, dons re√ßus
- Sorties: ventes, retours fournisseurs, pertes, casses, √©chantillons, dons
- Transferts inter-sites avec workflow d'approbation
- Ajustements d'inventaire avec justification obligatoire
- R√©servations de stock (commandes en attente)
- Tra√ßabilit√© compl√®te: qui, quand, pourquoi, combien
- Photos avant/apr√®s pour ajustements importants

INVENTAIRE INTELLIGENT:
- Inventaire tournant par zone/cat√©gorie
- Comptage avec application mobile + scan
- Double comptage automatique si √©cart > seuil
- Computer Vision: comptage automatique par cam√©ra/drone
- D√©tection anomalies avec Isolation Forest
- Rapprochement stock th√©orique vs physique
- G√©n√©ration automatique √©critures d'ajustement
- Planning intelligent des inventaires par IA

ALERTES & NOTIFICATIONS:
- Stock minimum atteint (seuil personnalis√©)
- Stock maximum d√©pass√© (surstockage)
- Rupture de stock imminente (pr√©diction IA)
- Produits proches expiration (30, 15, 7, 3 jours)
- Produits √† rotation lente (> 90 jours sans mouvement)
- √âcarts d'inventaire suspects (d√©tection fraude)
- Temp√©rature anormale (produits sensibles avec IoT)
- Commandes fournisseurs en retard
- Notifications: in-app, email, SMS, push mobile, Slack

VALORISATION & ANALYSES:
- M√©thodes: FIFO, LIFO, Co√ªt Moyen Pond√©r√©
- Valorisation en temps r√©el par m√©thode
- Provision pour d√©pr√©ciation automatique
- Analyse de rotation: taux, dur√©e moyenne stockage
- Identification fast/slow movers avec ML
- Co√ªt de possession du stock
- Dead stock detection (> 180 jours)
- Simulation impact changement de m√©thode
